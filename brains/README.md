# # Розділ, присвячений мізкам Ablution block'у

Щоб відстежувати ефективність ablution block'у і мати можливість точно налаштовувати системи та програмувати їх, ми хотіли б використовувати якусь систему IoT.

Інтелектуальна система контролю ablution block'у повинна включати, але не обмежуватися:  

* лічильник споживання води
* розумний контролер опалення
* реєстрація даних кількох датчиків
* сезонні оптимальні налаштування систем
* розумний контролер освітлення
* моніторинг загального користування

Технології для реалізації: 

Мікроконтролери Cobmine із бездротовими можливостями, як-от ESP8266 і ESP32 із кількома датчиками та реле, використовують Raspberry pi як сервер для основного керування та Home Assistant із ESPHome https://www.home-assistant.io/ https://esphome.io/ як програмне забезпечення для зв’язку всього цього. Ось хороший приклад https://youtu.be/iufph4dF3YU



## Загальні налаштування (поточний статус буде оновлено)

Ми використовуємо Raspberry pi 4 (версія 8 Гб оперативної пам’яті) як основний комп’ютер для Home Assistant і дотримуємося інструкцій зі встановлення звідси https://www.home-assistant.io/installation/raspberrypi

Як бездротові плати для ESPHome на даний момент протестовані різні версії ESP8266: NodeMCU v1.1 і Wemos D1 mini, Wemos D1 mini pro. Здається, усі плати працюють належним чином. Їх можна було перепрограмувати через Wi-Fi, після прошивки через USB, підключений безпосередньо до сервера raspberry pi. Слідкуйте за різними посібниками з веб-сайтів ESPHome і Home Assitant, які стосуються плат і датчиків. 

Наразі ми використовуємо лише блоки живлення або джерело живлення через USB від raspberry, але в ідеалі кожен кластер датчиків має мати власне локальне джерело живлення. Ми плануємо зробити кожен бездротовий кластер датчиків окремо, що живиться від суперконденсаторів як батареї та сонячної панелі або крихітної водяної турбіни як генератора. Кожна бездротова плата буде відкалібрована, щоб використовувати переваги режиму живлення «глибокого сну», щоб повністю виходити з режиму сну лише тоді, коли потрібно реєструвати дані або коли спрацьовує датчик. 

Home Assistant — чудова платформа, яка дозволить збирати та відображати дані, разом із ESPHome це забезпечить гнучкість і масштабованість розумних систем у Ablution Block, і ми будемо постійно додавати нові датчики та елементи керування, експериментуючи з різними кліматичними та водними технологіями. 





